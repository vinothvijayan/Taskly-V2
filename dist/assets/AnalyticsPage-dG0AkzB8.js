import{u as L,j as e,A as U,z as Z,t as o,x as m,b9 as f,l as z,v as h,w as g,H as p,e as $,a7 as G}from"./index-C3PoaKhJ.js";import{m as l}from"./proxy-wG0P1ngr.js";import{T as j,a as Y}from"./trending-up-ChYZ69I8.js";import{F as q,A as J}from"./flame-BNAduFin.js";import{Z as K}from"./zap-BhNFlfJH.js";function te(){const{tasks:x,getTotalTasksCount:M,getCompletedTasksCount:E,getActiveTasksCount:O,getCurrentStreak:B,getLongestStreak:W,getTasksByStatus:N,getTasksByPriority:v}=L(),i=M(),y=E(),D=B(),H=W(),T=i>0?Math.round(y/i*100):0,k=N("todo").length,w=N("in-progress").length,C=v("high").length,A=v("medium").length,S=v("low").length,a=(()=>{const s=x.reduce((c,u)=>c+(u.timeSpent||0),0),t=x.reduce((c,u)=>c+(u.estimatedTime||0)*60,0),n=x.filter(c=>c.timeSpent&&c.timeSpent>0),I=n.length>0?Math.round(s/n.length):0,R=t>0?Math.round(s/t*100):0,b=x.filter(c=>c.status==="completed"&&c.timeSpent&&c.timeSpent>0),F=b.length>0?Math.round(b.reduce((c,u)=>c+(u.timeSpent||0),0)/b.length):0;return{totalTimeSpent:s,totalEstimatedTime:t,averageTimePerTask:I,timeAccuracy:R,averageCompletionTime:F,tasksWithTimeCount:n.length}})(),d=s=>{const t=Math.floor(s/3600),n=Math.floor(s%3600/60);return t>0?`${t}h ${n}m`:n>0?`${n}m`:`${s}s`},P=()=>x.filter(s=>s.timeSpent&&s.timeSpent>0).sort((s,t)=>(t.timeSpent||0)-(s.timeSpent||0)).slice(0,5),r={hidden:{opacity:0,y:20},visible:s=>({opacity:1,y:0,transition:{delay:s*.1,duration:.4,ease:[.4,0,.2,1]}})};return e.jsxs("div",{className:"container max-w-7xl mx-auto p-6 space-y-8",children:[e.jsxs(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(U,{className:"h-8 w-8 text-primary"}),"Analytics"]}),e.jsx("p",{className:"text-muted-foreground",children:"Detailed insights into your productivity and task management"})]}),e.jsx(l.div,{initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Tasks",value:i,icon:j,color:"text-primary",bg:"bg-primary/10"},{label:"Completion Rate",value:`${T}%`,icon:Z,color:"text-success",bg:"bg-success/10"},{label:"Current Streak",value:D,icon:q,color:"text-orange-500",bg:"bg-orange-500/10"},{label:"Best Streak",value:H,icon:J,color:"text-purple-500",bg:"bg-purple-500/10"}].map((s,t)=>e.jsx(l.div,{variants:r,custom:t,children:e.jsx(o,{className:"shadow-md hover:shadow-lg transition-shadow rounded-2xl",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s.label}),e.jsx("p",{className:`text-2xl font-bold ${s.color}`,children:s.value})]}),e.jsx("div",{className:`h-12 w-12 ${s.bg} rounded-xl flex items-center justify-center`,children:e.jsx(s.icon,{className:`h-6 w-6 ${s.color}`})})]})})})},t))}),e.jsx(l.div,{initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Time Tracked",value:d(a.totalTimeSpent),icon:f,color:"text-focus",bg:"bg-focus/10"},{label:"Avg Time/Task",value:d(a.averageTimePerTask),icon:z,color:"text-break",bg:"bg-break/10"},{label:"Time Accuracy",value:`${a.timeAccuracy}%`,icon:j,color:"text-success",bg:"bg-success/10"},{label:"Tasks Tracked",value:a.tasksWithTimeCount,icon:K,color:"text-purple-500",bg:"bg-purple-500/10"}].map((s,t)=>e.jsx(l.div,{variants:r,custom:t,children:e.jsx(o,{className:"shadow-md hover:shadow-lg transition-shadow rounded-2xl",children:e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s.label}),e.jsx("p",{className:`text-2xl font-bold ${s.color}`,children:s.value})]}),e.jsx("div",{className:`h-12 w-12 ${s.bg} rounded-xl flex items-center justify-center`,children:e.jsx(s.icon,{className:`h-6 w-6 ${s.color}`})})]})})})},t))}),e.jsxs(l.div,{initial:"hidden",animate:"visible",className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l.div,{variants:r,custom:0,children:e.jsxs(o,{className:"shadow-md rounded-2xl",children:[e.jsx(h,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-primary"}),"Task Status Breakdown"]})}),e.jsx(m,{className:"space-y-4",children:[{label:"To Do",value:k,color:"bg-muted",percent:i>0?Math.round(k/i*100):0},{label:"In Progress",value:w,color:"bg-focus",percent:i>0?Math.round(w/i*100):0},{label:"Completed",value:y,color:"bg-success",percent:T}].map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 ${s.color} rounded-full`}),e.jsx("span",{className:"text-sm",children:s.label})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:s.value}),e.jsxs(p,{variant:"secondary",children:[s.percent,"%"]})]})]},t))})]})}),e.jsx(l.div,{variants:r,custom:1,children:e.jsxs(o,{className:"shadow-md rounded-2xl",children:[e.jsx(h,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5 text-primary"}),"Priority Distribution"]})}),e.jsx(m,{className:"space-y-4",children:[{label:"High Priority",value:C,color:"bg-destructive",percent:i>0?Math.round(C/i*100):0,badge:"destructive"},{label:"Medium Priority",value:A,color:"bg-break",percent:i>0?Math.round(A/i*100):0,badge:"secondary"},{label:"Low Priority",value:S,color:"bg-success",percent:i>0?Math.round(S/i*100):0,badge:"secondary"}].map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 ${s.color} rounded-full`}),e.jsx("span",{className:"text-sm",children:s.label})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:s.value}),e.jsxs(p,{variant:s.badge,children:[s.percent,"%"]})]})]},t))})]})})]}),e.jsxs(l.div,{initial:"hidden",animate:"visible",className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(l.div,{variants:r,custom:0,children:e.jsxs(o,{className:"shadow-md rounded-2xl",children:[e.jsx(h,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5 text-primary"}),"Top Time Consuming Tasks"]})}),e.jsx(m,{children:P().length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(f,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No time tracking data yet"}),e.jsx("p",{className:"text-xs",children:"Start tracking time on your tasks to see insights"})]}):e.jsx("div",{className:"space-y-3",children:P().map((s,t)=>e.jsxs(l.div,{variants:r,custom:t,initial:"hidden",animate:"visible",className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-primary/10 text-primary rounded-full text-xs font-bold",children:t+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(p,{variant:s.status==="completed"?"secondary":"outline",className:"text-xs",children:s.status}),e.jsx(p,{variant:s.priority==="high"?"destructive":s.priority==="medium"?"default":"secondary",className:"text-xs",children:s.priority})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-focus",children:d(s.timeSpent||0)}),s.estimatedTime&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Est: ",s.estimatedTime,"m"]})]})]},s.id))})})]})}),e.jsx(l.div,{variants:r,custom:1,children:e.jsxs(o,{className:"shadow-md rounded-2xl",children:[e.jsx(h,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5 text-primary"}),"Time Estimation Insights"]})}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Estimation Accuracy"}),e.jsxs("span",{className:$("text-lg font-bold",a.timeAccuracy>100?"text-break":a.timeAccuracy>80?"text-success":"text-muted-foreground"),children:[a.timeAccuracy,"%"]})]}),e.jsx(G,{value:Math.min(a.timeAccuracy,100),className:$("h-2 rounded-full",a.timeAccuracy>100?"[&>div]:bg-break":"[&>div]:bg-success")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.timeAccuracy>100?"You tend to underestimate task duration":a.timeAccuracy>80?"Great estimation accuracy!":"Consider tracking more tasks for better insights"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-focus/5 rounded-lg border border-focus/20",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Completion Time"}),e.jsx("p",{className:"text-lg font-bold text-focus",children:d(a.averageCompletionTime)})]}),e.jsxs("div",{className:"p-3 bg-success/5 rounded-lg border border-success/20",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tasks Tracked"}),e.jsx("p",{className:"text-lg font-bold text-success",children:a.tasksWithTimeCount})]})]}),a.totalEstimatedTime>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between text-sm",children:e.jsx("span",{className:"text-muted-foreground",children:"Estimated vs Actual"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"text-center p-2 bg-muted/30 rounded",children:[e.jsx("p",{className:"text-muted-foreground",children:"Estimated"}),e.jsx("p",{className:"font-semibold",children:d(a.totalEstimatedTime)})]}),e.jsxs("div",{className:"text-center p-2 bg-focus/10 rounded",children:[e.jsx("p",{className:"text-muted-foreground",children:"Actual"}),e.jsx("p",{className:"font-semibold text-focus",children:d(a.totalTimeSpent)})]})]})]})]})]})})]})]})}export{te as default};
