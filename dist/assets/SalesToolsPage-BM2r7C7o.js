import{c as T,j as e,aF as C,r as n,k as _,l as S,n as E,o as M,x as h,Q as x,B as g,L as y,al as F,v as L,aG as l,aH as B,aI as A}from"./index-CIyudF9t.js";import{T as P,a as D,b,c as o,d as G,e as c,u,w as H}from"./xlsx-DJeG-6lL.js";import{D as I}from"./download-oltLK3aY.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],z=T("building",R),K=A(),W=B(K,"get_google_business_data"),q=()=>{const[d,f]=n.useState(""),[i,w]=n.useState(""),[p,N]=n.useState(""),[r,m]=n.useState([]),[t,j]=n.useState(!1),k=async()=>{if(!d||!i){l.error("Location and Place Type are required.");return}j(!0),m([]);try{const a=(await W({location:d,place_type:i,keyword:p})).data;if(a.status==="success")m(a.data),l.success(`Found ${a.data.length} businesses!`);else throw new Error(a.message||"An unknown server error occurred.")}catch(s){console.error("Error fetching business data:",s),l.error("Failed to fetch data",{description:s.message||"An unexpected error occurred. Check the console for details."})}finally{j(!1)}},v=()=>{if(r.length===0){l.info("No data to export.");return}const s=u.json_to_sheet(r),a=u.book_new();u.book_append_sheet(a,s,"Businesses"),H(a,"google_business_export.xlsx")};return e.jsxs(_,{children:[e.jsx(S,{children:e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"})," Google Business Extractor"]})}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"location",children:"Location *"}),e.jsx(x,{id:"location",placeholder:"e.g., Chennai",value:d,onChange:s=>f(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"placeType",children:"Place Type *"}),e.jsx(x,{id:"placeType",placeholder:"e.g., restaurant",value:i,onChange:s=>w(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"keyword",children:"Keyword (Optional)"}),e.jsx(x,{id:"keyword",placeholder:"e.g., biryani",value:p,onChange:s=>N(s.target.value)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{onClick:k,disabled:t,children:[t?e.jsx(y,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(F,{className:"mr-2 h-4 w-4"}),t?"Searching...":"Search"]}),e.jsxs(g,{variant:"outline",onClick:v,disabled:r.length===0,children:[e.jsx(I,{className:"mr-2 h-4 w-4"})," Export to Excel"]})]}),e.jsxs(L,{className:"h-96 border rounded-md",children:[e.jsxs(P,{children:[e.jsx(D,{children:e.jsxs(b,{children:[e.jsx(o,{children:"Name"}),e.jsx(o,{children:"Phone"}),e.jsx(o,{children:"Address"}),e.jsx(o,{children:"Website"})]})}),e.jsx(G,{children:r.map((s,a)=>e.jsxs(b,{children:[e.jsx(c,{className:"font-medium",children:s.name}),e.jsx(c,{children:s.phone}),e.jsx(c,{children:s.address}),e.jsx(c,{children:s.website&&s.website!=="N/A"?e.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-all",children:s.website}):"N/A"})]},a))})]}),!t&&r.length===0&&e.jsx("div",{className:"flex items-center justify-center p-8 text-muted-foreground",children:"No results to display. Enter a search to begin."}),t&&e.jsxs("div",{className:"flex items-center justify-center p-8 text-muted-foreground",children:[e.jsx(y,{className:"mr-2 h-5 w-5 animate-spin"}),"Fetching data..."]})]})]})]})},J=()=>e.jsxs("div",{className:"container max-w-7xl mx-auto p-4 md:p-6",children:[e.jsxs("div",{className:"space-y-2 mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(C,{className:"h-8 w-8 text-primary"}),"Sales Tools"]}),e.jsx("p",{className:"text-muted-foreground",children:"Powerful tools to extract business leads and contact information."})]}),e.jsx(q,{})]});export{J as default};
