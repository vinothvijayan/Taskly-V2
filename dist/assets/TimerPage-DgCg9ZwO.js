import{r as i,aJ as C,av as p,j as s,t as N,v,w as k,H as u,B as g,aK as R,x as S,e as F,a7 as E,aa as I,ab as M,aL as z,aM as _,l as q}from"./index-C3PoaKhJ.js";import{T as H,a as O}from"./trending-up-ChYZ69I8.js";function $({task:c,onTimerComplete:o}){const[a,x]=i.useState("focus"),[r,n]=i.useState(25*60),[l,f]=i.useState(!1),[t,y]=i.useState(0),[e,D]=i.useState({focusTime:25,shortBreak:5,longBreak:15,sessionsUntilLongBreak:4}),h=i.useRef(),m=a==="focus"?e.focusTime*60:t%e.sessionsUntilLongBreak===0&&t>0?e.longBreak*60:e.shortBreak*60,T=(m-r)/m*100;i.useEffect(()=>{if(l&&r>0)h.current=setInterval(()=>{n(d=>d-1)},1e3);else if(clearInterval(h.current),r===0&&l)if(f(!1),o==null||o(a,m/60),C(_),a==="focus"?p.showPomodoroNotification("focus-complete",t+1):p.showPomodoroNotification("break-complete"),a==="focus"){y(j=>j+1),x("break");const d=(t+1)%e.sessionsUntilLongBreak===0;n(d?e.longBreak*60:e.shortBreak*60)}else x("focus"),n(e.focusTime*60);return()=>clearInterval(h.current)},[l,r,a,t,e,o,m]);const B=d=>{const j=Math.floor(d/60),U=d%60;return`${j.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}`},b=()=>{f(!l)},w=()=>{f(!1),n(a==="focus"?e.focusTime*60:e.shortBreak*60)},L=()=>a==="focus"?"default":t%e.sessionsUntilLongBreak===0&&t>0?"destructive":"secondary",P=()=>a==="focus"?"Focus Session":t%e.sessionsUntilLongBreak===0&&t>0?"Long Break":"Short Break";return s.jsxs(N,{className:"animate-fade-in",children:[s.jsxs(v,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(k,{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Pomodoro Timer"}),s.jsx(u,{variant:L(),children:P()})]}),s.jsx(g,{variant:"ghost",size:"icon",children:s.jsx(R,{className:"h-4 w-4"})})]}),c&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Working on: ",s.jsx("span",{className:"font-medium",children:c.title})]})]}),s.jsx(S,{children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:F("text-6xl font-mono font-bold transition-smooth",a==="focus"?"text-focus":"text-break"),children:B(r)}),s.jsx(E,{value:T,className:"h-2"}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsxs(g,{variant:a==="focus"?"focus":"break",size:"lg",onClick:b,className:"hover-scale",children:[l?s.jsx(I,{className:"h-5 w-5 mr-2"}):s.jsx(M,{className:"h-5 w-5 mr-2"}),l?"Pause":"Start"]}),s.jsxs(g,{variant:"outline",size:"lg",onClick:w,className:"hover-scale",children:[s.jsx(z,{className:"h-5 w-5 mr-2"}),"Reset"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-focus",children:"Sessions Completed"}),s.jsx("div",{className:"text-2xl font-bold",children:t})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-break",children:"Next Break In"}),s.jsx("div",{className:"text-2xl font-bold",children:e.sessionsUntilLongBreak-t%e.sessionsUntilLongBreak})]})]})]})})]})}function V(){const[c,o]=i.useState({focusSessions:3,totalFocusTime:75,tasksCompleted:2,currentStreak:5}),a=(x,r)=>{x==="focus"&&o(n=>({...n,focusSessions:n.focusSessions+1,totalFocusTime:n.totalFocusTime+r}))};return s.jsxs("div",{className:"container max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Focus Timer"}),s.jsx("p",{className:"text-muted-foreground",children:"Use the Pomodoro Technique to boost your productivity"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx($,{onTimerComplete:a})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(N,{className:"animate-fade-in",children:[s.jsx(v,{children:s.jsx(k,{className:"text-lg",children:"Today's Progress"})}),s.jsxs(S,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{className:"h-4 w-4 text-focus"}),s.jsx("span",{className:"text-sm",children:"Focus Sessions"})]}),s.jsx(u,{variant:"secondary",children:c.focusSessions})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{className:"h-4 w-4 text-break"}),s.jsx("span",{className:"text-sm",children:"Focus Time"})]}),s.jsxs(u,{variant:"secondary",children:[c.totalFocusTime,"m"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-sm",children:"Streak"})]}),s.jsxs(u,{variant:"secondary",children:[c.currentStreak," days"]})]})]})]}),s.jsxs(N,{className:"animate-fade-in",children:[s.jsx(v,{children:s.jsx(k,{className:"text-lg",children:"Tips"})}),s.jsx(S,{children:s.jsxs("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"• Take breaks to maintain focus quality"}),s.jsx("li",{children:"• Use breaks for light stretching or walking"}),s.jsx("li",{children:"• Turn off notifications during focus sessions"}),s.jsx("li",{children:"• Stay hydrated throughout your work"})]})})]})]})]})]})}export{V as default};
