import{r as i,bi as U,b8 as p,j as s,e as N,f as k,g as v,B as u,m as g,bj as R,h as S,q as F,aI as I,aO as E,aP as q,bk as z,bl as M,C as O}from"./index-BOMCLsi_.js";import{T as _}from"./target-1Bj3qq1r.js";import{T as $}from"./trending-up-D0DttzfC.js";function D({task:c,onTimerComplete:o}){const[t,m]=i.useState("focus"),[r,n]=i.useState(25*60),[l,f]=i.useState(!1),[a,y]=i.useState(0),[e,H]=i.useState({focusTime:25,shortBreak:5,longBreak:15,sessionsUntilLongBreak:4}),h=i.useRef(),x=t==="focus"?e.focusTime*60:a%e.sessionsUntilLongBreak===0&&a>0?e.longBreak*60:e.shortBreak*60,T=(x-r)/x*100;i.useEffect(()=>{if(l&&r>0)h.current=setInterval(()=>{n(d=>d-1)},1e3);else if(clearInterval(h.current),r===0&&l)if(f(!1),o==null||o(t,x/60),U(M),t==="focus"?p.showPomodoroNotification("focus-complete",a+1):p.showPomodoroNotification("break-complete"),t==="focus"){y(j=>j+1),m("break");const d=(a+1)%e.sessionsUntilLongBreak===0;n(d?e.longBreak*60:e.shortBreak*60)}else m("focus"),n(e.focusTime*60);return()=>clearInterval(h.current)},[l,r,t,a,e,o,x]);const b=d=>{const j=Math.floor(d/60),C=d%60;return`${j.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},B=()=>{f(!l)},w=()=>{f(!1),n(t==="focus"?e.focusTime*60:e.shortBreak*60)},L=()=>t==="focus"?"default":a%e.sessionsUntilLongBreak===0&&a>0?"destructive":"secondary",P=()=>t==="focus"?"Focus Session":a%e.sessionsUntilLongBreak===0&&a>0?"Long Break":"Short Break";return s.jsxs(N,{className:"animate-fade-in",children:[s.jsxs(k,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(v,{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Pomodoro Timer"}),s.jsx(u,{variant:L(),children:P()})]}),s.jsx(g,{variant:"ghost",size:"icon",children:s.jsx(R,{className:"h-4 w-4"})})]}),c&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Working on: ",s.jsx("span",{className:"font-medium",children:c.title})]})]}),s.jsx(S,{children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:F("text-6xl font-mono font-bold transition-smooth",t==="focus"?"text-focus":"text-break"),children:b(r)}),s.jsx(I,{value:T,className:"h-2"}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsxs(g,{variant:t==="focus"?"focus":"break",size:"lg",onClick:B,className:"hover-scale",children:[l?s.jsx(E,{className:"h-5 w-5 mr-2"}):s.jsx(q,{className:"h-5 w-5 mr-2"}),l?"Pause":"Start"]}),s.jsxs(g,{variant:"outline",size:"lg",onClick:w,className:"hover-scale",children:[s.jsx(z,{className:"h-5 w-5 mr-2"}),"Reset"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-focus",children:"Sessions Completed"}),s.jsx("div",{className:"text-2xl font-bold",children:a})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-break",children:"Next Break In"}),s.jsx("div",{className:"text-2xl font-bold",children:e.sessionsUntilLongBreak-a%e.sessionsUntilLongBreak})]})]})]})})]})}function G(){const[c,o]=i.useState({focusSessions:3,totalFocusTime:75,tasksCompleted:2,currentStreak:5}),t=(m,r)=>{m==="focus"&&o(n=>({...n,focusSessions:n.focusSessions+1,totalFocusTime:n.totalFocusTime+r}))};return s.jsxs("div",{className:"container max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Focus Timer"}),s.jsx("p",{className:"text-muted-foreground",children:"Use the Pomodoro Technique to boost your productivity"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(D,{onTimerComplete:t})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(N,{className:"animate-fade-in",children:[s.jsx(k,{children:s.jsx(v,{className:"text-lg",children:"Today's Progress"})}),s.jsxs(S,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{className:"h-4 w-4 text-focus"}),s.jsx("span",{className:"text-sm",children:"Focus Sessions"})]}),s.jsx(u,{variant:"secondary",children:c.focusSessions})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_,{className:"h-4 w-4 text-break"}),s.jsx("span",{className:"text-sm",children:"Focus Time"})]}),s.jsxs(u,{variant:"secondary",children:[c.totalFocusTime,"m"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-sm",children:"Streak"})]}),s.jsxs(u,{variant:"secondary",children:[c.currentStreak," days"]})]})]})]}),s.jsxs(N,{className:"animate-fade-in",children:[s.jsx(k,{children:s.jsx(v,{className:"text-lg",children:"Tips"})}),s.jsx(S,{children:s.jsxs("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"• Take breaks to maintain focus quality"}),s.jsx("li",{children:"• Use breaks for light stretching or walking"}),s.jsx("li",{children:"• Turn off notifications during focus sessions"}),s.jsx("li",{children:"• Stay hydrated throughout your work"})]})})]})]})]})]})}export{G as default};
