import{o as Ve,R as i,O as Vt,C as Yt,T as qt,a as Xt,p as Gt,q as Jt,r as J,s as Kt,P as Qt,j as e,e as Z,u as ft,t as Ne,v as Oe,w as Ae,x as Ce,f as Zt,g as en,y as tn,k as nn,B as ae,z as an,l as rn,A as sn,m as on,U as Pe,E as ln,F as cn,G as dn,H as Le,J as un,I as fn,K as mn,L as hn,M as pn,N as gn}from"./index-C3PoaKhJ.js";import{S as tt,a as nt,b as at,c as rt,d as le}from"./select-DYfge7V7.js";import{C as xn}from"./calendar-XOjXnguh.js";import{a as wn,A as st,M as vn,T as yn}from"./TaskForm-DSFQQGHf.js";import{m as ce}from"./proxy-wG0P1ngr.js";import{P as Ie}from"./plus--53mYUUG.js";import{T as ot,a as bn}from"./trending-up-ChYZ69I8.js";import{F as jn,A as Tn}from"./flame-BNAduFin.js";import{f as Fe}from"./format-BmZa2Fkx.js";import"./index-Bc21jcnc.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./useTouchGestures-BC_F8JP4.js";import"./textarea-DzbpV_Fn.js";import"./checkbox-CRixpEwR.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cn=Ve("activity",Nn);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Dn=Ve("funnel",Sn);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],it=Ve("user-plus",Rn);function kn(t){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",a.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const mt=i.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),pe=()=>{const t=i.useContext(mt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};kn(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const En=24,On=typeof window<"u"?J.useLayoutEffect:J.useEffect;function lt(...t){return(...a)=>{for(let n of t)typeof n=="function"&&n(...a)}}function An(){return Ye(/^Mac/)}function $n(){return Ye(/^iPhone/)}function ct(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Mn(){return Ye(/^iPad/)||An()&&navigator.maxTouchPoints>1}function ht(){return $n()||Mn()}function Ye(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const _e=typeof document<"u"&&window.visualViewport;function dt(t){let a=window.getComputedStyle(t);return/(auto|scroll)/.test(a.overflow+a.overflowX+a.overflowY)}function pt(t){for(dt(t)&&(t=t.parentElement);t&&!dt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Pn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Re=0,He;function Ln(t={}){let{isDisabled:a}=t;On(()=>{if(!a)return Re++,Re===1&&ht()&&(He=In()),()=>{Re--,Re===0&&(He==null||He())}},[a])}function In(){let t,a=0,n=y=>{t=pt(y.target),!(t===document.documentElement&&t===document.body)&&(a=y.changedTouches[0].pageY)},r=y=>{if(!t||t===document.documentElement||t===document.body){y.preventDefault();return}let l=y.changedTouches[0].pageY,k=t.scrollTop,b=t.scrollHeight-t.clientHeight;b!==0&&((k<=0&&l>a||k>=b&&l<a)&&y.preventDefault(),a=l)},c=y=>{let l=y.target;ze(l)&&l!==document.activeElement&&(y.preventDefault(),l.style.transform="translateY(-2000px)",l.focus(),requestAnimationFrame(()=>{l.style.transform=""}))},s=y=>{let l=y.target;ze(l)&&(l.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{l.style.transform="",_e&&(_e.height<window.innerHeight?requestAnimationFrame(()=>{ut(l)}):_e.addEventListener("resize",()=>ut(l),{once:!0}))}))},m=()=>{window.scrollTo(0,0)},g=window.pageXOffset,C=window.pageYOffset,S=lt(Fn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let j=lt(je(document,"touchstart",n,{passive:!1,capture:!0}),je(document,"touchmove",r,{passive:!1,capture:!0}),je(document,"touchend",c,{passive:!1,capture:!0}),je(document,"focus",s,!0),je(window,"scroll",m));return()=>{S(),j(),window.scrollTo(g,C)}}function Fn(t,a,n){let r=t.style[a];return t.style[a]=n,()=>{t.style[a]=r}}function je(t,a,n,r){return t.addEventListener(a,n,r),()=>{t.removeEventListener(a,n,r)}}function ut(t){let a=document.scrollingElement||document.documentElement;for(;t&&t!==a;){let n=pt(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,c=t.getBoundingClientRect().top,s=t.getBoundingClientRect().bottom;const m=n.getBoundingClientRect().bottom+En;s>m&&(n.scrollTop+=c-r)}t=n.parentElement}}function ze(t){return t instanceof HTMLInputElement&&!Pn.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function _n(t,a){typeof t=="function"?t(a):t!=null&&(t.current=a)}function Hn(...t){return a=>t.forEach(n=>_n(n,a))}function gt(...t){return J.useCallback(Hn(...t),t)}const xt=new WeakMap;function _(t,a,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(a).forEach(([c,s])=>{if(c.startsWith("--")){t.style.setProperty(c,s);return}r[c]=t.style[c],t.style[c]=s}),!n&&xt.set(t,r)}function Bn(t,a){if(!t||!(t instanceof HTMLElement))return;let n=xt.get(t);n&&(t.style[a]=n[a])}const H=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function ke(t,a){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let c=r.match(/^matrix3d\((.+)\)$/);return c?parseFloat(c[1].split(", ")[H(a)?13:12]):(c=r.match(/^matrix\((.+)\)$/),c?parseFloat(c[1].split(", ")[H(a)?5:4]):null)}function Un(t){return 8*(Math.log(t+1)-2)}function Be(t,a){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,a),()=>{t.style.cssText=n}}function zn(...t){return(...a)=>{for(const n of t)typeof n=="function"&&n(...a)}}const P={DURATION:.5,EASE:[.32,.72,0,1]},wt=.4,Wn=.25,Vn=100,vt=8,fe=16,We=26,Ue="vaul-dragging";function yt(t){const a=i.useRef(t);return i.useEffect(()=>{a.current=t}),i.useMemo(()=>(...n)=>a.current==null?void 0:a.current.call(a,...n),[])}function Yn({defaultProp:t,onChange:a}){const n=i.useState(t),[r]=n,c=i.useRef(r),s=yt(a);return i.useEffect(()=>{c.current!==r&&(s(r),c.current=r)},[r,c,s]),n}function bt({prop:t,defaultProp:a,onChange:n=()=>{}}){const[r,c]=Yn({defaultProp:a,onChange:n}),s=t!==void 0,m=s?t:r,g=yt(n),C=i.useCallback(S=>{if(s){const y=typeof S=="function"?S(t):S;y!==t&&g(y)}else c(S)},[s,t,c,g]);return[m,C]}function qn({activeSnapPointProp:t,setActiveSnapPointProp:a,snapPoints:n,drawerRef:r,overlayRef:c,fadeFromIndex:s,onSnapPointChange:m,direction:g="bottom",container:C,snapToSequentialPoint:S}){const[j,y]=bt({prop:t,defaultProp:n==null?void 0:n[0],onChange:a}),[l,k]=i.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);i.useEffect(()=>{function x(){k({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const b=i.useMemo(()=>j===(n==null?void 0:n[n.length-1])||null,[n,j]),N=i.useMemo(()=>n==null?void 0:n.findIndex(x=>x===j),[n,j]),B=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===j||!n,u=i.useMemo(()=>{const x=C?{width:C.getBoundingClientRect().width,height:C.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var o;return(o=n==null?void 0:n.map(w=>{const I=typeof w=="string";let d=0;if(I&&(d=parseInt(w,10)),H(g)){const F=I?d:l?w*x.height:0;return l?g==="bottom"?x.height-F:-x.height+F:F}const U=I?d:l?w*x.width:0;return l?g==="right"?x.width-U:-x.width+U:U}))!=null?o:[]},[n,l,C]),O=i.useMemo(()=>N!==null?u==null?void 0:u[N]:null,[u,N]),E=i.useCallback(x=>{var o;const w=(o=u==null?void 0:u.findIndex(I=>I===x))!=null?o:null;m(w),_(r.current,{transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,transform:H(g)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`}),u&&w!==u.length-1&&w!==s&&w<s?_(c.current,{transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,opacity:"0"}):_(c.current,{transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,opacity:"1"}),y(n==null?void 0:n[Math.max(w,0)])},[r.current,n,u,s,c,y]);i.useEffect(()=>{if(j||t){var x;const o=(x=n==null?void 0:n.findIndex(w=>w===t||w===j))!=null?x:-1;u&&o!==-1&&typeof u[o]=="number"&&E(u[o])}},[j,t,n,u,E]);function f({draggedDistance:x,closeDrawer:o,velocity:w,dismissible:I}){if(s===void 0)return;const d=g==="bottom"||g==="right"?(O??0)-x:(O??0)+x,U=N===s-1,F=N===0,z=x>0;if(U&&_(c.current,{transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`}),!S&&w>2&&!z){I?o():E(u[0]);return}if(!S&&w>2&&z&&u&&n){E(u[n.length-1]);return}const W=u==null?void 0:u.reduce((V,re)=>typeof V!="number"||typeof re!="number"?V:Math.abs(re-d)<Math.abs(V-d)?re:V),K=H(g)?window.innerHeight:window.innerWidth;if(w>wt&&Math.abs(x)<K*.4){const V=z?1:-1;if(V>0&&b){E(u[n.length-1]);return}if(F&&V<0&&I&&o(),N===null)return;E(u[N+V]);return}E(W)}function A({draggedDistance:x}){if(O===null)return;const o=g==="bottom"||g==="right"?O-x:O+x;(g==="bottom"||g==="right")&&o<u[u.length-1]||(g==="top"||g==="left")&&o>u[u.length-1]||_(r.current,{transform:H(g)?`translate3d(0, ${o}px, 0)`:`translate3d(${o}px, 0, 0)`})}function L(x,o){if(!n||typeof N!="number"||!u||s===void 0)return null;const w=N===s-1;if(N>=s&&o)return 0;if(w&&!o)return 1;if(!B&&!w)return null;const d=w?N+1:N-1,U=w?u[d]-u[d-1]:u[d+1]-u[d],F=x/Math.abs(U);return w?1-F:F}return{isLastSnapPoint:b,activeSnapPoint:j,shouldFade:B,getPercentageDragged:L,setActiveSnapPoint:y,activeSnapPointIndex:N,onRelease:f,onDrag:A,snapPointsOffset:u}}const Xn=()=>()=>{};function Gn(){const{direction:t,isOpen:a,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:c}=pe(),s=i.useRef(null),m=J.useMemo(()=>document.body.style.backgroundColor,[]);function g(){return(window.innerWidth-We)/window.innerWidth}i.useEffect(()=>{if(a&&n){s.current&&clearTimeout(s.current);const C=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!C)return;zn(r&&!c?Be(document.body,{background:"black"}):Xn,Be(C,{transformOrigin:H(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${P.DURATION}s`,transitionTimingFunction:`cubic-bezier(${P.EASE.join(",")})`}));const S=Be(C,{borderRadius:`${vt}px`,overflow:"hidden",...H(t)?{transform:`scale(${g()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${g()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{S(),s.current=window.setTimeout(()=>{m?document.body.style.background=m:document.body.style.removeProperty("background")},P.DURATION*1e3)}}},[a,n,m])}let Te=null;function Jn({isOpen:t,modal:a,nested:n,hasBeenOpened:r,preventScrollRestoration:c,noBodyStyles:s}){const[m,g]=i.useState(()=>typeof window<"u"?window.location.href:""),C=i.useRef(0),S=i.useCallback(()=>{if(ct()&&Te===null&&t&&!s){Te={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:y,innerHeight:l}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-C.current}px`,left:`${-y}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const k=l-window.innerHeight;k&&C.current>=l&&(document.body.style.top=`${-(C.current+k)}px`)}),300)}},[t]),j=i.useCallback(()=>{if(ct()&&Te!==null&&!s){const y=-parseInt(document.body.style.top,10),l=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Te),window.requestAnimationFrame(()=>{if(c&&m!==window.location.href){g(window.location.href);return}window.scrollTo(l,y)}),Te=null}},[m]);return i.useEffect(()=>{function y(){C.current=window.scrollY}return y(),window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}},[]),i.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&S(),a||window.setTimeout(()=>{j()},500)):j())},[t,r,m,a,n,S,j]),{restorePositionSetting:j}}function jt({open:t,onOpenChange:a,children:n,onDrag:r,onRelease:c,snapPoints:s,shouldScaleBackground:m=!1,setBackgroundColorOnScale:g=!0,closeThreshold:C=Wn,scrollLockTimeout:S=Vn,dismissible:j=!0,handleOnly:y=!1,fadeFromIndex:l=s&&s.length-1,activeSnapPoint:k,setActiveSnapPoint:b,fixed:N,modal:B=!0,onClose:u,nested:O,noBodyStyles:E,direction:f="bottom",defaultOpen:A=!1,disablePreventScroll:L=!0,snapToSequentialPoint:x=!1,preventScrollRestoration:o=!1,repositionInputs:w=!0,onAnimationEnd:I,container:d,autoFocus:U=!1}){var F,z;const[W=!1,K]=bt({defaultProp:A,prop:t,onChange:p=>{a==null||a(p),!p&&!O&&It(),setTimeout(()=>{I==null||I(p)},P.DURATION*1e3),p&&!B&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),p||(document.body.style.pointerEvents="auto")}}),[V,re]=i.useState(!1),[se,me]=i.useState(!1),[ge,xe]=i.useState(!1),q=i.useRef(null),de=i.useRef(null),h=i.useRef(null),T=i.useRef(null),X=i.useRef(null),oe=i.useRef(!1),we=i.useRef(null),$e=i.useRef(0),he=i.useRef(!1),qe=i.useRef(0),v=i.useRef(null),Xe=i.useRef(((F=v.current)==null?void 0:F.getBoundingClientRect().height)||0),Ge=i.useRef(((z=v.current)==null?void 0:z.getBoundingClientRect().width)||0),Me=i.useRef(0),At=i.useCallback(p=>{s&&p===ye.length-1&&(de.current=new Date)},[]),{activeSnapPoint:$t,activeSnapPointIndex:ve,setActiveSnapPoint:Je,onRelease:Mt,snapPointsOffset:ye,onDrag:Pt,shouldFade:Ke,getPercentageDragged:Lt}=qn({snapPoints:s,activeSnapPointProp:k,setActiveSnapPointProp:b,drawerRef:v,fadeFromIndex:l,overlayRef:q,onSnapPointChange:At,direction:f,container:d,snapToSequentialPoint:x});Ln({isDisabled:!W||se||!B||ge||!V||!w||!L});const{restorePositionSetting:It}=Jn({isOpen:W,modal:B,nested:O,hasBeenOpened:V,preventScrollRestoration:o,noBodyStyles:E});function Se(){return(window.innerWidth-We)/window.innerWidth}function Ft(p){var D,$;!j&&!s||v.current&&!v.current.contains(p.target)||(Xe.current=((D=v.current)==null?void 0:D.getBoundingClientRect().height)||0,Ge.current=(($=v.current)==null?void 0:$.getBoundingClientRect().width)||0,me(!0),h.current=new Date,ht()&&window.addEventListener("touchend",()=>oe.current=!1,{once:!0}),p.target.setPointerCapture(p.pointerId),$e.current=H(f)?p.pageY:p.pageX)}function Qe(p,D){var $,M;let R=p;const Q=($=window.getSelection())==null?void 0:$.toString(),Y=v.current?ke(v.current,f):null,G=new Date;if(R.hasAttribute("data-vaul-no-drag")||R.closest("[data-vaul-no-drag]"))return!1;if(f==="right"||f==="left")return!0;if(de.current&&G.getTime()-de.current.getTime()<500)return!1;if(Y!==null&&(f==="bottom"?Y>0:Y<0))return!0;if(Q&&Q.length>0)return!1;if(G.getTime()-((M=X.current)==null?void 0:M.getTime())<S&&Y===0||D)return X.current=G,!1;for(;R;){if(R.scrollHeight>R.clientHeight){if(R.scrollTop!==0)return X.current=new Date,!1;if(R.getAttribute("role")==="dialog")return!0}R=R.parentNode}return!0}function _t(p){if(v.current&&se){const D=f==="bottom"||f==="right"?1:-1,$=($e.current-(H(f)?p.pageY:p.pageX))*D,M=$>0,R=s&&!j&&!M;if(R&&ve===0)return;const Q=Math.abs($),Y=document.querySelector("[data-vaul-drawer-wrapper]"),G=f==="bottom"||f==="top"?Xe.current:Ge.current;let ee=Q/G;const ue=Lt(Q,M);if(ue!==null&&(ee=ue),R&&ee>=1||!oe.current&&!Qe(p.target,M))return;if(v.current.classList.add(Ue),oe.current=!0,_(v.current,{transition:"none"}),_(q.current,{transition:"none"}),s&&Pt({draggedDistance:$}),M&&!s){const ne=Un($),De=Math.min(ne*-1,0)*D;_(v.current,{transform:H(f)?`translate3d(0, ${De}px, 0)`:`translate3d(${De}px, 0, 0)`});return}const ie=1-ee;if((Ke||l&&ve===l-1)&&(r==null||r(p,ee),_(q.current,{opacity:`${ie}`,transition:"none"},!0)),Y&&q.current&&m){const ne=Math.min(Se()+ee*(1-Se()),1),De=8-ee*8,et=Math.max(0,14-ee*14);_(Y,{borderRadius:`${De}px`,transform:H(f)?`scale(${ne}) translate3d(0, ${et}px, 0)`:`scale(${ne}) translate3d(${et}px, 0, 0)`,transition:"none"},!0)}if(!s){const ne=Q*D;_(v.current,{transform:H(f)?`translate3d(0, ${ne}px, 0)`:`translate3d(${ne}px, 0, 0)`})}}}i.useEffect(()=>{var p;function D(){if(!v.current||!w)return;const $=document.activeElement;if(ze($)||he.current){var M;const R=((M=window.visualViewport)==null?void 0:M.height)||0,Q=window.innerHeight;let Y=Q-R;const G=v.current.getBoundingClientRect().height||0,ee=G>Q*.8;Me.current||(Me.current=G);const ue=v.current.getBoundingClientRect().top;if(Math.abs(qe.current-Y)>60&&(he.current=!he.current),s&&s.length>0&&ye&&ve){const ie=ye[ve]||0;Y+=ie}if(qe.current=Y,G>R||he.current){const ie=v.current.getBoundingClientRect().height;let ne=ie;ie>R&&(ne=R-(ee?ue:We)),N?v.current.style.height=`${ie-Math.max(Y,0)}px`:v.current.style.height=`${Math.max(ne,R-ue)}px`}else v.current.style.height=`${Me.current}px`;s&&s.length>0&&!he.current?v.current.style.bottom="0px":v.current.style.bottom=`${Math.max(Y,0)}px`}}return(p=window.visualViewport)==null||p.addEventListener("resize",D),()=>{var $;return($=window.visualViewport)==null?void 0:$.removeEventListener("resize",D)}},[ve,s,ye]);function be(p){Ht(),u==null||u(),p||K(!1),setTimeout(()=>{s&&Je(s[0])},P.DURATION*1e3)}function Ze(){if(!v.current)return;const p=document.querySelector("[data-vaul-drawer-wrapper]"),D=ke(v.current,f);_(v.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`}),_(q.current,{transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,opacity:"1"}),m&&D&&D>0&&W&&_(p,{borderRadius:`${vt}px`,overflow:"hidden",...H(f)?{transform:`scale(${Se()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Se()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${P.DURATION}s`,transitionTimingFunction:`cubic-bezier(${P.EASE.join(",")})`},!0)}function Ht(){!se||!v.current||(v.current.classList.remove(Ue),oe.current=!1,me(!1),T.current=new Date)}function Bt(p){if(!se||!v.current)return;v.current.classList.remove(Ue),oe.current=!1,me(!1),T.current=new Date;const D=ke(v.current,f);if(!Qe(p.target,!1)||!D||Number.isNaN(D)||h.current===null)return;const $=T.current.getTime()-h.current.getTime(),M=$e.current-(H(f)?p.pageY:p.pageX),R=Math.abs(M)/$;if(R>.05&&(xe(!0),setTimeout(()=>{xe(!1)},200)),s){Mt({draggedDistance:M*(f==="bottom"||f==="right"?1:-1),closeDrawer:be,velocity:R,dismissible:j}),c==null||c(p,!0);return}if(f==="bottom"||f==="right"?M>0:M<0){Ze(),c==null||c(p,!0);return}if(R>wt){be(),c==null||c(p,!1);return}var Q;const Y=Math.min((Q=v.current.getBoundingClientRect().height)!=null?Q:0,window.innerHeight);var G;const ee=Math.min((G=v.current.getBoundingClientRect().width)!=null?G:0,window.innerWidth),ue=f==="left"||f==="right";if(Math.abs(D)>=(ue?ee:Y)*C){be(),c==null||c(p,!1);return}c==null||c(p,!0),Ze()}i.useEffect(()=>(W&&(_(document.documentElement,{scrollBehavior:"auto"}),de.current=new Date),()=>{Bn(document.documentElement,"scrollBehavior")}),[W]);function Ut(p){const D=p?(window.innerWidth-fe)/window.innerWidth:1,$=p?-fe:0;we.current&&window.clearTimeout(we.current),_(v.current,{transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,transform:`scale(${D}) translate3d(0, ${$}px, 0)`}),!p&&v.current&&(we.current=setTimeout(()=>{const M=ke(v.current,f);_(v.current,{transition:"none",transform:H(f)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`})},500))}function zt(p,D){if(D<0)return;const $=(window.innerWidth-fe)/window.innerWidth,M=$+D*(1-$),R=-fe+D*fe;_(v.current,{transform:H(f)?`scale(${M}) translate3d(0, ${R}px, 0)`:`scale(${M}) translate3d(${R}px, 0, 0)`,transition:"none"})}function Wt(p,D){const $=H(f)?window.innerHeight:window.innerWidth,M=D?($-fe)/$:1,R=D?-fe:0;D&&_(v.current,{transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,transform:H(f)?`scale(${M}) translate3d(0, ${R}px, 0)`:`scale(${M}) translate3d(${R}px, 0, 0)`})}return i.createElement(Kt,{defaultOpen:A,onOpenChange:p=>{!j&&!p||(p?re(!0):be(!0),K(p))},open:W},i.createElement(mt.Provider,{value:{activeSnapPoint:$t,snapPoints:s,setActiveSnapPoint:Je,drawerRef:v,overlayRef:q,onOpenChange:a,onPress:Ft,onRelease:Bt,onDrag:_t,dismissible:j,handleOnly:y,isOpen:W,isDragging:se,shouldFade:Ke,closeDrawer:be,onNestedDrag:zt,onNestedOpenChange:Ut,onNestedRelease:Wt,keyboardIsOpen:he,modal:B,snapPointsOffset:ye,direction:f,shouldScaleBackground:m,setBackgroundColorOnScale:g,noBodyStyles:E,container:d,autoFocus:U}},n))}const Tt=i.forwardRef(function({...t},a){const{overlayRef:n,snapPoints:r,onRelease:c,shouldFade:s,isOpen:m,modal:g}=pe(),C=gt(a,n),S=r&&r.length>0;return g?i.createElement(Vt,{onMouseUp:c,ref:C,"data-vaul-overlay":"","data-vaul-snap-points":m&&S?"true":"false","data-vaul-snap-points-overlay":m&&s?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});Tt.displayName="Drawer.Overlay";const Nt=i.forwardRef(function({onPointerDownOutside:t,style:a,onOpenAutoFocus:n,...r},c){const{drawerRef:s,onPress:m,onRelease:g,onDrag:C,keyboardIsOpen:S,snapPointsOffset:j,modal:y,isOpen:l,direction:k,snapPoints:b,container:N,handleOnly:B,autoFocus:u}=pe(),[O,E]=i.useState(!1),f=gt(c,s),A=i.useRef(null),L=i.useRef(null),x=i.useRef(!1),o=b&&b.length>0;Gn();const w=(d,U,F=0)=>{if(x.current)return!0;const z=Math.abs(d.y),W=Math.abs(d.x),K=W>z,V=["bottom","right"].includes(U)?1:-1;if(U==="left"||U==="right"){if(!(d.x*V<0)&&W>=0&&W<=F)return K}else if(!(d.y*V<0)&&z>=0&&z<=F)return!K;return x.current=!0,!0};i.useEffect(()=>{o&&window.requestAnimationFrame(()=>{E(!0)})},[]);function I(d){A.current=null,x.current=!1,g(d)}return i.createElement(Yt,{"data-vaul-drawer-direction":k,"data-vaul-drawer":"","data-vaul-delayed-snap-points":O?"true":"false","data-vaul-snap-points":l&&o?"true":"false","data-vaul-custom-container":N?"true":"false",...r,ref:f,style:j&&j.length>0?{"--snap-point-height":`${j[0]}px`,...a}:a,onPointerDown:d=>{B||(r.onPointerDown==null||r.onPointerDown.call(r,d),A.current={x:d.pageX,y:d.pageY},m(d))},onOpenAutoFocus:d=>{n==null||n(d),u||d.preventDefault()},onPointerDownOutside:d=>{if(t==null||t(d),!y||d.defaultPrevented){d.preventDefault();return}S.current&&(S.current=!1)},onFocusOutside:d=>{if(!y){d.preventDefault();return}},onPointerMove:d=>{if(L.current=d,B||(r.onPointerMove==null||r.onPointerMove.call(r,d),!A.current))return;const U=d.pageY-A.current.y,F=d.pageX-A.current.x,z=d.pointerType==="touch"?10:2;w({x:F,y:U},k,z)?C(d):(Math.abs(F)>z||Math.abs(U)>z)&&(A.current=null)},onPointerUp:d=>{r.onPointerUp==null||r.onPointerUp.call(r,d),A.current=null,x.current=!1,g(d)},onPointerOut:d=>{r.onPointerOut==null||r.onPointerOut.call(r,d),I(L.current)},onContextMenu:d=>{r.onContextMenu==null||r.onContextMenu.call(r,d),I(L.current)}})});Nt.displayName="Drawer.Content";const Kn=250,Qn=120,Ct=i.forwardRef(function({preventCycle:t=!1,children:a,...n},r){const{closeDrawer:c,isDragging:s,snapPoints:m,activeSnapPoint:g,setActiveSnapPoint:C,dismissible:S,handleOnly:j,isOpen:y,onPress:l,onDrag:k}=pe(),b=i.useRef(null),N=i.useRef(!1);function B(){if(N.current){E();return}window.setTimeout(()=>{u()},Qn)}function u(){if(s||t||N.current){E();return}if(E(),(!m||m.length===0)&&S){c();return}if(g===m[m.length-1]&&S){c();return}const A=m.findIndex(x=>x===g);if(A===-1)return;const L=m[A+1];C(L)}function O(){b.current=window.setTimeout(()=>{N.current=!0},Kn)}function E(){window.clearTimeout(b.current),N.current=!1}return i.createElement("div",{onClick:B,onPointerCancel:E,onPointerDown:f=>{j&&l(f),O()},onPointerMove:f=>{j&&k(f)},ref:r,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},i.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},a))});Ct.displayName="Drawer.Handle";function Zn({onDrag:t,onOpenChange:a,...n}){const{onNestedDrag:r,onNestedOpenChange:c,onNestedRelease:s}=pe();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return i.createElement(jt,{nested:!0,onClose:()=>{c(!1)},onDrag:(m,g)=>{r(m,g),t==null||t(m,g)},onOpenChange:m=>{m&&c(m)},onRelease:s,...n})}function ea(t){const a=pe(),{container:n=a.container,...r}=t;return i.createElement(Qt,{container:n,...r})}const te={Root:jt,NestedRoot:Zn,Content:Nt,Overlay:Tt,Trigger:qt,Portal:ea,Handle:Ct,Close:Xt,Title:Gt,Description:Jt},St=({shouldScaleBackground:t=!0,...a})=>e.jsx(te.Root,{shouldScaleBackground:t,...a});St.displayName="Drawer";const ta=te.Trigger,na=te.Portal,aa=te.Close,Dt=J.forwardRef(({className:t,...a},n)=>e.jsx(te.Overlay,{ref:n,className:Z("fixed inset-0 z-50 bg-black/80",t),...a}));Dt.displayName=te.Overlay.displayName;const Rt=J.forwardRef(({className:t,children:a,...n},r)=>e.jsxs(na,{children:[e.jsx(Dt,{}),e.jsxs(te.Content,{ref:r,className:Z("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),a]})]}));Rt.displayName="DrawerContent";const kt=({className:t,...a})=>e.jsx("div",{className:Z("grid gap-1.5 p-4 text-center sm:text-left",t),...a});kt.displayName="DrawerHeader";const Et=({className:t,...a})=>e.jsx("div",{className:Z("mt-auto flex flex-col gap-2 p-4",t),...a});Et.displayName="DrawerFooter";const Ot=J.forwardRef(({className:t,...a},n)=>e.jsx(te.Title,{ref:n,className:Z("text-lg font-semibold leading-none tracking-tight",t),...a}));Ot.displayName=te.Title.displayName;const ra=J.forwardRef(({className:t,...a},n)=>e.jsx(te.Description,{ref:n,className:Z("text-sm text-muted-foreground",t),...a}));ra.displayName=te.Description.displayName;const sa=()=>{var S,j,y;const{tasks:t,getTasksCompletedOnDate:a}=ft(),r=t.filter(l=>l.status==="completed").length,c=()=>{const l=new Date,k=new Date(l);k.setFullYear(l.getFullYear()-1),k.setDate(k.getDate()+1);const b=new Date(k),N=b.getDay();b.setDate(b.getDate()-N);const B=[],u=[];let O=-1;for(let E=0;E<53;E++){const f=[];for(let A=0;A<7;A++){const L=new Date(b);if(L.setDate(b.getDate()+E*7+A),A===0&&L.getMonth()!==O&&(O=L.getMonth(),u.push({month:L.toLocaleDateString("en-US",{month:"short"}),weekIndex:E})),L<=l&&L>=k){const o=a(L).length;let w=0;o>=5?w=4:o>=3?w=3:o>=2?w=2:o>=1&&(w=1),f.push({level:w,count:o,date:L.toISOString().split("T")[0]})}else f.push({level:0,count:0,date:L.toISOString().split("T")[0]})}B.push(f)}return{grid:B,monthLabels:u}},{grid:s,monthLabels:m}=c(),g=l=>{switch(l){case 0:return"bg-[#F3F3F3] dark:bg-[#161B22]";case 1:return"bg-[#9be9a8] dark:bg-[#0e4429]";case 2:return"bg-[#40c463] dark:bg-[#006d32]";case 3:return"bg-[#30a14e] dark:bg-[#26a641]";case 4:return"bg-[#216e39] dark:bg-[#39d353]";default:return"bg-muted/30 dark:bg-muted/20"}},C=l=>{const b=new Date(l.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l.count===0?`No tasks completed on ${b}`:l.count===1?`1 task completed on ${b}`:`${l.count} tasks completed on ${b}`};return e.jsxs(Ne,{children:[e.jsxs(Oe,{children:[e.jsx(Ae,{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-lg"})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-2xl font-bold text-primary",children:r})," tasks completed in the last year",e.jsx("br",{}),"Your productivity journey visualized"]})]}),e.jsx(Ce,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("span",{className:"text-2xl font-bold text-primary",children:"2025"})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"relative h-4 mb-2 hidden sm:block",children:m.map((l,k)=>e.jsx("div",{className:"absolute text-xs text-muted-foreground",style:{left:`${l.weekIndex*16+32}px`},children:l.month},k))}),e.jsxs("div",{className:"flex gap-1 overflow-x-auto pb-2 scrollbar-hide",children:[e.jsxs("div",{className:"hidden sm:flex flex-col gap-1 text-xs text-muted-foreground w-8 shrink-0",children:[e.jsx("div",{className:"h-3"}),e.jsx("div",{children:"Mon"}),e.jsx("div",{className:"h-3"}),e.jsx("div",{children:"Wed"}),e.jsx("div",{className:"h-3"}),e.jsx("div",{children:"Fri"}),e.jsx("div",{className:"h-3"})]}),e.jsx("div",{className:"flex gap-[2px] min-w-max",children:s.map((l,k)=>e.jsx("div",{className:"flex flex-col gap-1",children:l.map((b,N)=>e.jsx("div",{className:Z("cursor-pointer rounded-[4px]","w-3 h-3 sm:w-3.5 sm:h-3.5","hover:ring-1 hover:ring-primary/50 touch-manipulation",g(b.level)),title:C(b),onClick:()=>{window.innerWidth<640&&alert(C(b))}},N))},k))})]}),e.jsxs("div",{className:"sm:hidden mt-2 flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:((S=m[0])==null?void 0:S.month)||"Jan"}),e.jsx("span",{children:((j=m[Math.floor(m.length/2)])==null?void 0:j.month)||"Jun"}),e.jsx("span",{children:((y=m[m.length-1])==null?void 0:y.month)||"Dec"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Learn how we count contributions"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Less"}),e.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(l=>e.jsx("div",{className:`w-3 h-3 rounded-[4px] ${g(l)}`},l))}),e.jsx("span",{children:"More"})]})]})]})})]})},oa={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Ee={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};function ja(){const{tasks:t,teamMembers:a,setTaskFormActive:n,addTask:r,updateTask:c,deleteTask:s,toggleTaskStatus:m,toggleTaskPriority:g,getTotalTasksCount:C,getCompletedTasksCount:S,getActiveTasksCount:j,getCurrentStreak:y,getLongestStreak:l}=ft(),{startTaskTimer:k}=Zt(),{user:b,userProfile:N}=en(),B=tn(),u=nn(),[O,E]=J.useState(null),[f,A]=J.useState(!1),[L,x]=J.useState(!1),[o,w]=J.useState({status:"all",priority:"all",dateRange:{from:void 0,to:void 0},search:""});J.useEffect(()=>(n(f||!!O),()=>n(!1)),[f,O,n]);const I=C(),d=S(),U=j(),F=y(),z=l(),W=I>0?Math.round(d/I*100):0,K=t.filter(h=>{var T;if(o.status!=="all"&&h.status!==o.status||o.priority!=="all"&&h.priority!==o.priority||o.search&&!h.title.toLowerCase().includes(o.search.toLowerCase())&&!((T=h.description)!=null&&T.toLowerCase().includes(o.search.toLowerCase())))return!1;if(o.dateRange.from||o.dateRange.to){const X=new Date(h.createdAt);if(o.dateRange.from&&X<o.dateRange.from||o.dateRange.to&&X>o.dateRange.to)return!1}return!0}),V=h=>{const T={...h,createdBy:(b==null?void 0:b.uid)||null};T.estimatedTime===void 0&&delete T.estimatedTime,r(T),A(!1)},re=h=>{O&&(c(O.id,h),E(null))},se=h=>{const T=t.find(X=>X.id===h);T&&k(T)},me=()=>{w({status:"all",priority:"all",dateRange:{from:void 0,to:void 0},search:""}),u&&x(!1)},ge=()=>{let h=0;return o.status!=="all"&&h++,o.priority!=="all"&&h++,o.search&&h++,o.dateRange.from&&h++,h},xe=h=>!h||h.length===0?[]:h.map(T=>a.find(X=>X.uid===T)).filter(T=>T!==void 0);if(f||O)return e.jsx("div",{className:"container max-w-2xl mx-auto p-4 sm:p-6",children:e.jsx(wn,{task:O,onSubmit:O?re:V,onCancel:()=>{A(!1),E(null)},teamMembers:a})});const q=({title:h,value:T,icon:X,colorClass:oe,bgColorClass:we})=>e.jsx(ce.div,{variants:Ee,children:e.jsx(Ne,{className:"shadow-elegant overflow-hidden",children:e.jsxs(Ce,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:h}),e.jsx("p",{className:Z("text-xl sm:text-2xl font-bold",oe),children:T})]}),e.jsx("div",{className:Z("h-10 w-10 sm:h-12 sm:w-12 rounded-lg flex items-center justify-center",we),children:e.jsx(X,{className:Z("h-5 w-5 sm:h-6 sm:w-6",oe)})})]})})}),de=({inDrawer:h=!1})=>e.jsxs("div",{className:Z("grid gap-4",h?"grid-cols-1 p-4":"sm:grid-cols-2 lg:grid-cols-4"),children:[e.jsxs("div",{className:"relative",children:[e.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(fn,{placeholder:"Search tasks...",value:o.search,onChange:T=>w({...o,search:T.target.value}),className:"pl-10"})]}),e.jsxs(tt,{value:o.status,onValueChange:T=>w({...o,status:T}),children:[e.jsx(nt,{children:e.jsx(at,{placeholder:"Filter by status"})}),e.jsxs(rt,{children:[e.jsx(le,{value:"all",children:"All Status"}),e.jsx(le,{value:"todo",children:"To Do"}),e.jsx(le,{value:"in-progress",children:"In Progress"}),e.jsx(le,{value:"completed",children:"Completed"})]})]}),e.jsxs(tt,{value:o.priority,onValueChange:T=>w({...o,priority:T}),children:[e.jsx(nt,{children:e.jsx(at,{placeholder:"Filter by priority"})}),e.jsxs(rt,{children:[e.jsx(le,{value:"all",children:"All Priority"}),e.jsx(le,{value:"low",children:"Low"}),e.jsx(le,{value:"medium",children:"Medium"}),e.jsx(le,{value:"high",children:"High"})]})]}),e.jsxs(mn,{children:[e.jsx(hn,{asChild:!0,children:e.jsxs(ae,{variant:"outline",className:Z("justify-start text-left font-normal",!o.dateRange.from&&"text-muted-foreground"),children:[e.jsx(pn,{className:"mr-2 h-4 w-4"}),o.dateRange.from?o.dateRange.to?`${Fe(o.dateRange.from,"LLL dd")} - ${Fe(o.dateRange.to,"LLL dd")}`:Fe(o.dateRange.from,"LLL dd, y"):e.jsx("span",{children:"Pick a date range"})]})}),e.jsx(gn,{className:"w-auto p-0",align:"start",children:e.jsx(xn,{initialFocus:!0,mode:"range",selected:o.dateRange,onSelect:T=>w({...o,dateRange:{from:T==null?void 0:T.from,to:T==null?void 0:T.to}}),numberOfMonths:u?1:2})})]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[e.jsx(ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Dashboard"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Welcome back, ",(N==null?void 0:N.displayName)||(b==null?void 0:b.email),"!"]})]}),!u&&e.jsxs(ae,{onClick:()=>A(!0),variant:"focus",className:"hover-scale",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"})," New Task"]})]})}),e.jsxs(ce.div,{variants:oa,initial:"hidden",animate:"visible",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[e.jsx(q,{title:"Total Tasks",value:I,icon:ot,colorClass:"text-primary",bgColorClass:"bg-primary/10"}),e.jsx(q,{title:"Completed",value:d,icon:an,colorClass:"text-success",bgColorClass:"bg-success/10"}),e.jsx(q,{title:"Active Tasks",value:U,icon:rn,colorClass:"text-focus",bgColorClass:"bg-focus/10"}),e.jsx(q,{title:"Completion Rate",value:`${W}%`,icon:bn,colorClass:"text-break",bgColorClass:"bg-break/10"}),e.jsx(q,{title:"Current Streak",value:`${F} ${F===1?"day":"days"}`,icon:jn,colorClass:"text-orange-500",bgColorClass:"bg-orange-500/10"}),e.jsx(q,{title:"Longest Streak",value:`${z} ${z===1?"day":"days"}`,icon:Tn,colorClass:"text-purple-500",bgColorClass:"bg-purple-500/10"})]}),!u&&e.jsx(ce.div,{variants:Ee,initial:"hidden",animate:"visible",children:e.jsxs(Ne,{className:"shadow-elegant",children:[e.jsx(Oe,{children:e.jsxs(Ae,{className:"flex items-center gap-2",children:[e.jsx(Cn,{className:"h-5 w-5"}),"Activity Overview"]})}),e.jsx(Ce,{children:e.jsx(sa,{})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(ce.div,{variants:Ee,initial:"hidden",animate:"visible",className:"lg:col-span-2",children:e.jsxs(Ne,{className:"shadow-elegant",children:[e.jsx(Oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Ae,{className:"flex items-center gap-2",children:[e.jsx(sn,{className:"h-5 w-5"}),"Task Management"]}),!u&&ge()>0&&e.jsx(ae,{variant:"outline",size:"sm",onClick:me,className:"hover-scale",children:"Clear Filters"})]})}),e.jsxs(Ce,{className:"space-y-4 p-4 md:p-6",children:[u?e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Showing ",K.length," of ",I," tasks"]}),e.jsxs(St,{open:L,onOpenChange:x,children:[e.jsx(ta,{asChild:!0,children:e.jsxs(ae,{variant:"outline",size:"sm",className:"shrink-0",children:[e.jsx(Dn,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Filters"}),ge()>0&&e.jsx(Le,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:ge()})]})}),e.jsxs(Rt,{children:[e.jsx(kt,{children:e.jsx(Ot,{children:"Filter Tasks"})}),e.jsx(de,{inDrawer:!0}),e.jsxs(Et,{className:"flex-row gap-2",children:[e.jsx(aa,{asChild:!0,children:e.jsx(ae,{variant:"outline",className:"flex-1",children:"Close"})}),e.jsx(ae,{onClick:me,variant:"destructive",className:"flex-1",children:"Clear Filters"})]})]})]})]}):e.jsx(de,{}),e.jsx(on,{className:"h-[500px]",children:K.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12 px-4",children:[e.jsx(ot,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground/30"}),e.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No tasks found"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-xs",children:I===0?"Create your first task to get started.":"Try adjusting your filters or create a new task."}),e.jsxs(ae,{onClick:()=>A(!0),variant:"focus",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Task"]})]}):e.jsx("div",{className:"space-y-3 pr-3",children:e.jsx(st,{children:K.map(h=>e.jsx(ce.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,transition:{duration:.2}},children:u?e.jsx(vn,{task:h,onEdit:E,onDelete:s,onToggleStatus:m,onTogglePriority:g,onStartTimer:se,assignedProfiles:xe(h.assignedTo)},h.id):e.jsx(yn,{task:h,onEdit:E,onDelete:s,onToggleStatus:m,onTogglePriority:g,onStartTimer:se,assignedProfiles:xe(h.assignedTo)},h.id)},h.id))})})})]})]})}),e.jsx(ce.div,{variants:Ee,initial:"hidden",animate:"visible",children:e.jsxs(Ne,{className:"shadow-elegant",children:[e.jsx(Oe,{children:e.jsxs(Ae,{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-5 w-5"}),"Team Collaboration"]})}),e.jsx(Ce,{className:"space-y-6 p-4 md:p-6",children:N!=null&&N.teamId&&a.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-success/5 border border-success/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Pe,{className:"h-4 w-4 text-success"}),e.jsx("span",{className:"font-medium text-success text-base",children:"Active Team"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length," member",a.length!==1?"s":""," collaborating"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-base",children:"Team Members"}),e.jsxs("div",{className:"space-y-2",children:[a.slice(0,4).map(h=>{var T;return e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/30 rounded-lg",children:[e.jsxs(ln,{className:"h-8 w-8",children:[e.jsx(cn,{src:h.photoURL||""}),e.jsx(dn,{className:"text-xs bg-primary/20 text-primary",children:((T=h.displayName)==null?void 0:T.slice(0,2).toUpperCase())||h.email.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate text-sm",children:h.displayName||"Team Member"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h.email})]}),h.uid===(b==null?void 0:b.uid)&&e.jsx(Le,{variant:"secondary",className:"text-xs px-1 py-0",children:"You"})]},h.uid)}),a.length>4&&e.jsx("div",{className:"text-center py-1",children:e.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",a.length-4," more"]})})]})]}),e.jsxs(ae,{onClick:()=>B("/profile"),variant:"outline",className:"w-full hover-scale",children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Invite More Members"]})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-focus/10 rounded-2xl flex items-center justify-center h-16 w-16 mx-auto shadow-elegant",children:e.jsx(Pe,{className:"h-8 w-8 text-muted-foreground/50"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-1",children:"No Team Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Invite members to collaborate on tasks and boost productivity."})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs(ae,{onClick:()=>B("/profile"),variant:"focus",className:"w-full hover-scale",children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Invite Team Member"]}),e.jsx("div",{className:"text-xs text-muted-foreground/80 pt-2",children:"Assign tasks, track progress, and collaborate in real-time."})]})]})})]})})]})]}),u&&e.jsx(st,{children:!f&&!O&&e.jsx(ce.div,{initial:{scale:0,y:100},animate:{scale:1,y:0},exit:{scale:0,y:100},transition:{type:"spring",stiffness:260,damping:20},className:"fixed bottom-6 right-6 z-50",children:e.jsxs(ae,{onClick:()=>A(!0),variant:"focus",size:"icon",className:"h-14 w-14 rounded-full shadow-lg shadow-primary/30",children:[e.jsx(Ie,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Create New Task"})]})})})]})}export{ja as default};
