import{c as ye,_ as a,as as be,at as De,aC as Re,au as Se,aD as Te,aE as Ee,r as Q,aF as xe,ar as Oe,j as X,q as at}from"./index-BOMCLsi_.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cn=ye("funnel",Ce);function $e(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Vt=a.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ot=()=>{const t=a.useContext(Vt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};$e(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Ne=24,Ae=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Ut(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}function Me(){return At(/^Mac/)}function Pe(){return At(/^iPhone/)}function jt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Ie(){return At(/^iPad/)||Me()&&navigator.maxTouchPoints>1}function Yt(){return Pe()||Ie()}function At(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Et=typeof document<"u"&&window.visualViewport;function zt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function qt(t){for(zt(t)&&(t=t.parentElement);t&&!zt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const _e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let gt=0,xt;function He(t={}){let{isDisabled:n}=t;Ae(()=>{if(!n)return gt++,gt===1&&Yt()&&(xt=Le()),()=>{gt--,gt===0&&(xt==null||xt())}},[n])}function Le(){let t,n=0,e=w=>{t=qt(w.target),!(t===document.documentElement&&t===document.body)&&(n=w.changedTouches[0].pageY)},r=w=>{if(!t||t===document.documentElement||t===document.body){w.preventDefault();return}let h=w.changedTouches[0].pageY,H=t.scrollTop,U=t.scrollHeight-t.clientHeight;U!==0&&((H<=0&&h>n||H>=U&&h<n)&&w.preventDefault(),n=h)},i=w=>{let h=w.target;$t(h)&&h!==document.activeElement&&(w.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=w=>{let h=w.target;$t(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Et&&(Et.height<window.innerHeight?requestAnimationFrame(()=>{Wt(h)}):Et.addEventListener("resize",()=>Wt(h),{once:!0}))}))},d=()=>{window.scrollTo(0,0)},f=window.pageXOffset,D=window.pageYOffset,T=Ut(ke(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=Ut(dt(document,"touchstart",e,{passive:!1,capture:!0}),dt(document,"touchmove",r,{passive:!1,capture:!0}),dt(document,"touchend",i,{passive:!1,capture:!0}),dt(document,"focus",o,!0),dt(window,"scroll",d));return()=>{T(),g(),window.scrollTo(f,D)}}function ke(t,n,e){let r=t.style[n];return t.style[n]=e,()=>{t.style[n]=r}}function dt(t,n,e,r){return t.addEventListener(n,e,r),()=>{t.removeEventListener(n,e,r)}}function Wt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=qt(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let r=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const d=e.getBoundingClientRect().bottom+Ne;o>d&&(e.scrollTop+=i-r)}t=e.parentElement}}function $t(t){return t instanceof HTMLInputElement&&!_e.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Be(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Fe(...t){return n=>t.forEach(e=>Be(e,n))}function Xt(...t){return Q.useCallback(Fe(...t),t)}const Kt=new WeakMap;function C(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){t.style.setProperty(i,o);return}r[i]=t.style[i],t.style[i]=o}),!e&&Kt.set(t,r)}function Ue(t,n){if(!t||!(t instanceof HTMLElement))return;let e=Kt.get(t);e&&(t.style[n]=e[n])}const $=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function vt(t,n){if(!t)return null;const e=window.getComputedStyle(t),r=e.transform||e.webkitTransform||e.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[$(n)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[$(n)?5:4]):null)}function je(t){return 8*(Math.log(t+1)-2)}function Ot(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function ze(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const x={DURATION:.5,EASE:[.32,.72,0,1]},Gt=.4,We=.25,Ve=100,Jt=8,et=16,Nt=26,Ct="vaul-dragging";function Qt(t){const n=a.useRef(t);return a.useEffect(()=>{n.current=t}),a.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Ye({defaultProp:t,onChange:n}){const e=a.useState(t),[r]=e,i=a.useRef(r),o=Qt(n);return a.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),e}function Zt({prop:t,defaultProp:n,onChange:e=()=>{}}){const[r,i]=Ye({defaultProp:n,onChange:e}),o=t!==void 0,d=o?t:r,f=Qt(e),D=a.useCallback(T=>{if(o){const w=typeof T=="function"?T(t):T;w!==t&&f(w)}else i(T)},[o,t,i,f]);return[d,D]}function qe({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:d,direction:f="bottom",container:D,snapToSequentialPoint:T}){const[g,w]=Zt({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[h,H]=a.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);a.useEffect(()=>{function m(){H({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const U=a.useMemo(()=>g===(e==null?void 0:e[e.length-1])||null,[e,g]),O=a.useMemo(()=>e==null?void 0:e.findIndex(m=>m===g),[e,g]),z=e&&e.length>0&&(o||o===0)&&!Number.isNaN(o)&&e[o]===g||!e,p=a.useMemo(()=>{const m=D?{width:D.getBoundingClientRect().width,height:D.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var R;return(R=e==null?void 0:e.map(v=>{const I=typeof v=="string";let s=0;if(I&&(s=parseInt(v,10)),$(f)){const A=I?s:h?v*m.height:0;return h?f==="bottom"?m.height-A:-m.height+A:A}const M=I?s:h?v*m.width:0;return h?f==="right"?m.width-M:-m.width+M:M}))!=null?R:[]},[e,h,D]),L=a.useMemo(()=>O!==null?p==null?void 0:p[O]:null,[p,O]),N=a.useCallback(m=>{var R;const v=(R=p==null?void 0:p.findIndex(I=>I===m))!=null?R:null;d(v),C(r.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:$(f)?`translate3d(0, ${m}px, 0)`:`translate3d(${m}px, 0, 0)`}),p&&v!==p.length-1&&v!==o&&v<o?C(i.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"0"}):C(i.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"1"}),w(e==null?void 0:e[Math.max(v,0)])},[r.current,e,p,o,i,w]);a.useEffect(()=>{if(g||t){var m;const R=(m=e==null?void 0:e.findIndex(v=>v===t||v===g))!=null?m:-1;p&&R!==-1&&typeof p[R]=="number"&&N(p[R])}},[g,t,e,p,N]);function c({draggedDistance:m,closeDrawer:R,velocity:v,dismissible:I}){if(o===void 0)return;const s=f==="bottom"||f==="right"?(L??0)-m:(L??0)+m,M=O===o-1,A=O===0,k=m>0;if(M&&C(i.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`}),!T&&v>2&&!k){I?R():N(p[0]);return}if(!T&&v>2&&k&&p&&e){N(p[e.length-1]);return}const B=p==null?void 0:p.reduce((F,Z)=>typeof F!="number"||typeof Z!="number"?F:Math.abs(Z-s)<Math.abs(F-s)?Z:F),G=$(f)?window.innerHeight:window.innerWidth;if(v>Gt&&Math.abs(m)<G*.4){const F=k?1:-1;if(F>0&&U){N(p[e.length-1]);return}if(A&&F<0&&I&&R(),O===null)return;N(p[O+F]);return}N(B)}function P({draggedDistance:m}){if(L===null)return;const R=f==="bottom"||f==="right"?L-m:L+m;(f==="bottom"||f==="right")&&R<p[p.length-1]||(f==="top"||f==="left")&&R>p[p.length-1]||C(r.current,{transform:$(f)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`})}function K(m,R){if(!e||typeof O!="number"||!p||o===void 0)return null;const v=O===o-1;if(O>=o&&R)return 0;if(v&&!R)return 1;if(!z&&!v)return null;const s=v?O+1:O-1,M=v?p[s]-p[s-1]:p[s+1]-p[s],A=m/Math.abs(M);return v?1-A:A}return{isLastSnapPoint:U,activeSnapPoint:g,shouldFade:z,getPercentageDragged:K,setActiveSnapPoint:w,activeSnapPointIndex:O,onRelease:c,onDrag:P,snapPointsOffset:p}}const Xe=()=>()=>{};function Ke(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:r,noBodyStyles:i}=ot(),o=a.useRef(null),d=Q.useMemo(()=>document.body.style.backgroundColor,[]);function f(){return(window.innerWidth-Nt)/window.innerWidth}a.useEffect(()=>{if(n&&e){o.current&&clearTimeout(o.current);const D=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!D)return;ze(r&&!i?Ot(document.body,{background:"black"}):Xe,Ot(D,{transformOrigin:$(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${x.DURATION}s`,transitionTimingFunction:`cubic-bezier(${x.EASE.join(",")})`}));const T=Ot(D,{borderRadius:`${Jt}px`,overflow:"hidden",...$(t)?{transform:`scale(${f()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${f()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{T(),o.current=window.setTimeout(()=>{d?document.body.style.background=d:document.body.style.removeProperty("background")},x.DURATION*1e3)}}},[n,e,d])}let ft=null;function Ge({isOpen:t,modal:n,nested:e,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:o}){const[d,f]=a.useState(()=>typeof window<"u"?window.location.href:""),D=a.useRef(0),T=a.useCallback(()=>{if(jt()&&ft===null&&t&&!o){ft={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:w,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-D.current}px`,left:`${-w}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const H=h-window.innerHeight;H&&D.current>=h&&(document.body.style.top=`${-(D.current+H)}px`)}),300)}},[t]),g=a.useCallback(()=>{if(jt()&&ft!==null&&!o){const w=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ft),window.requestAnimationFrame(()=>{if(i&&d!==window.location.href){f(window.location.href);return}window.scrollTo(h,w)}),ft=null}},[d]);return a.useEffect(()=>{function w(){D.current=window.scrollY}return w(),window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)}},[]),a.useEffect(()=>{e||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&T(),n||window.setTimeout(()=>{g()},500)):g())},[t,r,d,n,e,T,g]),{restorePositionSetting:g}}function te({open:t,onOpenChange:n,children:e,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:d=!1,setBackgroundColorOnScale:f=!0,closeThreshold:D=We,scrollLockTimeout:T=Ve,dismissible:g=!0,handleOnly:w=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:H,setActiveSnapPoint:U,fixed:O,modal:z=!0,onClose:p,nested:L,noBodyStyles:N,direction:c="bottom",defaultOpen:P=!1,disablePreventScroll:K=!0,snapToSequentialPoint:m=!1,preventScrollRestoration:R=!1,repositionInputs:v=!0,onAnimationEnd:I,container:s,autoFocus:M=!1}){var A,k;const[B=!1,G]=Zt({defaultProp:P,prop:t,onChange:l=>{n==null||n(l),!l&&!L&&de(),setTimeout(()=>{I==null||I(l)},x.DURATION*1e3),l&&!z&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[F,Z]=a.useState(!1),[it,yt]=a.useState(!1),[oe,Mt]=a.useState(!1),nt=a.useRef(null),mt=a.useRef(null),bt=a.useRef(null),Dt=a.useRef(null),pt=a.useRef(null),st=a.useRef(!1),Rt=a.useRef(null),St=a.useRef(0),rt=a.useRef(!1),Pt=a.useRef(0),u=a.useRef(null),It=a.useRef(((A=u.current)==null?void 0:A.getBoundingClientRect().height)||0),_t=a.useRef(((k=u.current)==null?void 0:k.getBoundingClientRect().width)||0),Tt=a.useRef(0),ie=a.useCallback(l=>{o&&l===ut.length-1&&(mt.current=new Date)},[]),{activeSnapPoint:se,activeSnapPointIndex:lt,setActiveSnapPoint:Ht,onRelease:le,snapPointsOffset:ut,onDrag:ue,shouldFade:Lt,getPercentageDragged:ce}=qe({snapPoints:o,activeSnapPointProp:H,setActiveSnapPointProp:U,drawerRef:u,fadeFromIndex:h,overlayRef:nt,onSnapPointChange:ie,direction:c,container:s,snapToSequentialPoint:m});He({isDisabled:!B||it||!z||oe||!F||!v||!K});const{restorePositionSetting:de}=Ge({isOpen:B,modal:z,nested:L,hasBeenOpened:F,preventScrollRestoration:R,noBodyStyles:N});function wt(){return(window.innerWidth-Nt)/window.innerWidth}function fe(l){var y,S;!g&&!o||u.current&&!u.current.contains(l.target)||(It.current=((y=u.current)==null?void 0:y.getBoundingClientRect().height)||0,_t.current=((S=u.current)==null?void 0:S.getBoundingClientRect().width)||0,yt(!0),bt.current=new Date,Yt()&&window.addEventListener("touchend",()=>st.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),St.current=$(c)?l.pageY:l.pageX)}function kt(l,y){var S,E;let b=l;const W=(S=window.getSelection())==null?void 0:S.toString(),_=u.current?vt(u.current,c):null,j=new Date;if(b.hasAttribute("data-vaul-no-drag")||b.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(mt.current&&j.getTime()-mt.current.getTime()<500)return!1;if(_!==null&&(c==="bottom"?_>0:_<0))return!0;if(W&&W.length>0)return!1;if(j.getTime()-((E=pt.current)==null?void 0:E.getTime())<T&&_===0||y)return pt.current=j,!1;for(;b;){if(b.scrollHeight>b.clientHeight){if(b.scrollTop!==0)return pt.current=new Date,!1;if(b.getAttribute("role")==="dialog")return!0}b=b.parentNode}return!0}function me(l){if(u.current&&it){const y=c==="bottom"||c==="right"?1:-1,S=(St.current-($(c)?l.pageY:l.pageX))*y,E=S>0,b=o&&!g&&!E;if(b&&lt===0)return;const W=Math.abs(S),_=document.querySelector("[data-vaul-drawer-wrapper]"),j=c==="bottom"||c==="top"?It.current:_t.current;let V=W/j;const tt=ce(W,E);if(tt!==null&&(V=tt),b&&V>=1||!st.current&&!kt(l.target,E))return;if(u.current.classList.add(Ct),st.current=!0,C(u.current,{transition:"none"}),C(nt.current,{transition:"none"}),o&&ue({draggedDistance:S}),E&&!o){const q=je(S),ht=Math.min(q*-1,0)*y;C(u.current,{transform:$(c)?`translate3d(0, ${ht}px, 0)`:`translate3d(${ht}px, 0, 0)`});return}const J=1-V;if((Lt||h&&lt===h-1)&&(r==null||r(l,V),C(nt.current,{opacity:`${J}`,transition:"none"},!0)),_&&nt.current&&d){const q=Math.min(wt()+V*(1-wt()),1),ht=8-V*8,Ft=Math.max(0,14-V*14);C(_,{borderRadius:`${ht}px`,transform:$(c)?`scale(${q}) translate3d(0, ${Ft}px, 0)`:`scale(${q}) translate3d(${Ft}px, 0, 0)`,transition:"none"},!0)}if(!o){const q=W*y;C(u.current,{transform:$(c)?`translate3d(0, ${q}px, 0)`:`translate3d(${q}px, 0, 0)`})}}}a.useEffect(()=>{var l;function y(){if(!u.current||!v)return;const S=document.activeElement;if($t(S)||rt.current){var E;const b=((E=window.visualViewport)==null?void 0:E.height)||0,W=window.innerHeight;let _=W-b;const j=u.current.getBoundingClientRect().height||0,V=j>W*.8;Tt.current||(Tt.current=j);const tt=u.current.getBoundingClientRect().top;if(Math.abs(Pt.current-_)>60&&(rt.current=!rt.current),o&&o.length>0&&ut&&lt){const J=ut[lt]||0;_+=J}if(Pt.current=_,j>b||rt.current){const J=u.current.getBoundingClientRect().height;let q=J;J>b&&(q=b-(V?tt:Nt)),O?u.current.style.height=`${J-Math.max(_,0)}px`:u.current.style.height=`${Math.max(q,b-tt)}px`}else u.current.style.height=`${Tt.current}px`;o&&o.length>0&&!rt.current?u.current.style.bottom="0px":u.current.style.bottom=`${Math.max(_,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",y),()=>{var S;return(S=window.visualViewport)==null?void 0:S.removeEventListener("resize",y)}},[lt,o,ut]);function ct(l){pe(),p==null||p(),l||G(!1),setTimeout(()=>{o&&Ht(o[0])},x.DURATION*1e3)}function Bt(){if(!u.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),y=vt(u.current,c);C(u.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`}),C(nt.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"1"}),d&&y&&y>0&&B&&C(l,{borderRadius:`${Jt}px`,overflow:"hidden",...$(c)?{transform:`scale(${wt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${wt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${x.DURATION}s`,transitionTimingFunction:`cubic-bezier(${x.EASE.join(",")})`},!0)}function pe(){!it||!u.current||(u.current.classList.remove(Ct),st.current=!1,yt(!1),Dt.current=new Date)}function we(l){if(!it||!u.current)return;u.current.classList.remove(Ct),st.current=!1,yt(!1),Dt.current=new Date;const y=vt(u.current,c);if(!kt(l.target,!1)||!y||Number.isNaN(y)||bt.current===null)return;const S=Dt.current.getTime()-bt.current.getTime(),E=St.current-($(c)?l.pageY:l.pageX),b=Math.abs(E)/S;if(b>.05&&(Mt(!0),setTimeout(()=>{Mt(!1)},200)),o){le({draggedDistance:E*(c==="bottom"||c==="right"?1:-1),closeDrawer:ct,velocity:b,dismissible:g}),i==null||i(l,!0);return}if(c==="bottom"||c==="right"?E>0:E<0){Bt(),i==null||i(l,!0);return}if(b>Gt){ct(),i==null||i(l,!1);return}var W;const _=Math.min((W=u.current.getBoundingClientRect().height)!=null?W:0,window.innerHeight);var j;const V=Math.min((j=u.current.getBoundingClientRect().width)!=null?j:0,window.innerWidth),tt=c==="left"||c==="right";if(Math.abs(y)>=(tt?V:_)*D){ct(),i==null||i(l,!1);return}i==null||i(l,!0),Bt()}a.useEffect(()=>(B&&(C(document.documentElement,{scrollBehavior:"auto"}),mt.current=new Date),()=>{Ue(document.documentElement,"scrollBehavior")}),[B]);function he(l){const y=l?(window.innerWidth-et)/window.innerWidth:1,S=l?-et:0;Rt.current&&window.clearTimeout(Rt.current),C(u.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:`scale(${y}) translate3d(0, ${S}px, 0)`}),!l&&u.current&&(Rt.current=setTimeout(()=>{const E=vt(u.current,c);C(u.current,{transition:"none",transform:$(c)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})},500))}function ge(l,y){if(y<0)return;const S=(window.innerWidth-et)/window.innerWidth,E=S+y*(1-S),b=-et+y*et;C(u.current,{transform:$(c)?`scale(${E}) translate3d(0, ${b}px, 0)`:`scale(${E}) translate3d(${b}px, 0, 0)`,transition:"none"})}function ve(l,y){const S=$(c)?window.innerHeight:window.innerWidth,E=y?(S-et)/S:1,b=y?-et:0;y&&C(u.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:$(c)?`scale(${E}) translate3d(0, ${b}px, 0)`:`scale(${E}) translate3d(${b}px, 0, 0)`})}return a.createElement(xe,{defaultOpen:P,onOpenChange:l=>{!g&&!l||(l?Z(!0):ct(!0),G(l))},open:B},a.createElement(Vt.Provider,{value:{activeSnapPoint:se,snapPoints:o,setActiveSnapPoint:Ht,drawerRef:u,overlayRef:nt,onOpenChange:n,onPress:fe,onRelease:we,onDrag:me,dismissible:g,handleOnly:w,isOpen:B,isDragging:it,shouldFade:Lt,closeDrawer:ct,onNestedDrag:ge,onNestedOpenChange:he,onNestedRelease:ve,keyboardIsOpen:rt,modal:z,snapPointsOffset:ut,direction:c,shouldScaleBackground:d,setBackgroundColorOnScale:f,noBodyStyles:N,container:s,autoFocus:M}},e))}const ee=a.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:r,onRelease:i,shouldFade:o,isOpen:d,modal:f}=ot(),D=Xt(n,e),T=r&&r.length>0;return f?a.createElement(be,{onMouseUp:i,ref:D,"data-vaul-overlay":"","data-vaul-snap-points":d&&T?"true":"false","data-vaul-snap-points-overlay":d&&o?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});ee.displayName="Drawer.Overlay";const ne=a.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...r},i){const{drawerRef:o,onPress:d,onRelease:f,onDrag:D,keyboardIsOpen:T,snapPointsOffset:g,modal:w,isOpen:h,direction:H,snapPoints:U,container:O,handleOnly:z,autoFocus:p}=ot(),[L,N]=a.useState(!1),c=Xt(i,o),P=a.useRef(null),K=a.useRef(null),m=a.useRef(!1),R=U&&U.length>0;Ke();const v=(s,M,A=0)=>{if(m.current)return!0;const k=Math.abs(s.y),B=Math.abs(s.x),G=B>k,F=["bottom","right"].includes(M)?1:-1;if(M==="left"||M==="right"){if(!(s.x*F<0)&&B>=0&&B<=A)return G}else if(!(s.y*F<0)&&k>=0&&k<=A)return!G;return m.current=!0,!0};a.useEffect(()=>{R&&window.requestAnimationFrame(()=>{N(!0)})},[]);function I(s){P.current=null,m.current=!1,f(s)}return a.createElement(De,{"data-vaul-drawer-direction":H,"data-vaul-drawer":"","data-vaul-delayed-snap-points":L?"true":"false","data-vaul-snap-points":h&&R?"true":"false","data-vaul-custom-container":O?"true":"false",...r,ref:c,style:g&&g.length>0?{"--snap-point-height":`${g[0]}px`,...n}:n,onPointerDown:s=>{z||(r.onPointerDown==null||r.onPointerDown.call(r,s),P.current={x:s.pageX,y:s.pageY},d(s))},onOpenAutoFocus:s=>{e==null||e(s),p||s.preventDefault()},onPointerDownOutside:s=>{if(t==null||t(s),!w||s.defaultPrevented){s.preventDefault();return}T.current&&(T.current=!1)},onFocusOutside:s=>{if(!w){s.preventDefault();return}},onPointerMove:s=>{if(K.current=s,z||(r.onPointerMove==null||r.onPointerMove.call(r,s),!P.current))return;const M=s.pageY-P.current.y,A=s.pageX-P.current.x,k=s.pointerType==="touch"?10:2;v({x:A,y:M},H,k)?D(s):(Math.abs(A)>k||Math.abs(M)>k)&&(P.current=null)},onPointerUp:s=>{r.onPointerUp==null||r.onPointerUp.call(r,s),P.current=null,m.current=!1,f(s)},onPointerOut:s=>{r.onPointerOut==null||r.onPointerOut.call(r,s),I(K.current)},onContextMenu:s=>{r.onContextMenu==null||r.onContextMenu.call(r,s),I(K.current)}})});ne.displayName="Drawer.Content";const Je=250,Qe=120,re=a.forwardRef(function({preventCycle:t=!1,children:n,...e},r){const{closeDrawer:i,isDragging:o,snapPoints:d,activeSnapPoint:f,setActiveSnapPoint:D,dismissible:T,handleOnly:g,isOpen:w,onPress:h,onDrag:H}=ot(),U=a.useRef(null),O=a.useRef(!1);function z(){if(O.current){N();return}window.setTimeout(()=>{p()},Qe)}function p(){if(o||t||O.current){N();return}if(N(),(!d||d.length===0)&&T){i();return}if(f===d[d.length-1]&&T){i();return}const P=d.findIndex(m=>m===f);if(P===-1)return;const K=d[P+1];D(K)}function L(){U.current=window.setTimeout(()=>{O.current=!0},Je)}function N(){window.clearTimeout(U.current),O.current=!1}return a.createElement("div",{onClick:z,onPointerCancel:N,onPointerDown:c=>{g&&h(c),L()},onPointerMove:c=>{g&&H(c)},ref:r,"data-vaul-drawer-visible":w?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},a.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});re.displayName="Drawer.Handle";function Ze({onDrag:t,onOpenChange:n,...e}){const{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=ot();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return a.createElement(te,{nested:!0,onClose:()=>{i(!1)},onDrag:(d,f)=>{r(d,f),t==null||t(d,f)},onOpenChange:d=>{d&&i(d)},onRelease:o,...e})}function tn(t){const n=ot(),{container:e=n.container,...r}=t;return a.createElement(Oe,{container:e,...r})}const Y={Root:te,NestedRoot:Ze,Content:ne,Overlay:ee,Trigger:Re,Portal:tn,Handle:re,Close:Se,Title:Te,Description:Ee},en=({shouldScaleBackground:t=!0,...n})=>X.jsx(Y.Root,{shouldScaleBackground:t,...n});en.displayName="Drawer";const dn=Y.Trigger,nn=Y.Portal,fn=Y.Close,ae=Q.forwardRef(({className:t,...n},e)=>X.jsx(Y.Overlay,{ref:e,className:at("fixed inset-0 z-50 bg-black/80",t),...n}));ae.displayName=Y.Overlay.displayName;const rn=Q.forwardRef(({className:t,children:n,...e},r)=>X.jsxs(nn,{children:[X.jsx(ae,{}),X.jsxs(Y.Content,{ref:r,className:at("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...e,children:[X.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));rn.displayName="DrawerContent";const an=({className:t,...n})=>X.jsx("div",{className:at("grid gap-1.5 p-4 text-center sm:text-left",t),...n});an.displayName="DrawerHeader";const on=({className:t,...n})=>X.jsx("div",{className:at("mt-auto flex flex-col gap-2 p-4",t),...n});on.displayName="DrawerFooter";const sn=Q.forwardRef(({className:t,...n},e)=>X.jsx(Y.Title,{ref:e,className:at("text-lg font-semibold leading-none tracking-tight",t),...n}));sn.displayName=Y.Title.displayName;const ln=Q.forwardRef(({className:t,...n},e)=>X.jsx(Y.Description,{ref:e,className:at("text-sm text-muted-foreground",t),...n}));ln.displayName=Y.Description.displayName;export{en as D,cn as F,rn as a,an as b,sn as c,ln as d,nn as e,ae as f,dn as g,on as h,fn as i};
